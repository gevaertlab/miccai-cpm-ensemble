#! /usr/bin/env bash
#
# A script to modify an FSL header file.
# This script currently supports updating axial voxel size dz.

main()
{
    while getopts "f:z:" opt ; do
        case "$opt" in 
        f)
            f="$OPTARG"
            ;;
        z)
            z="$OPTARG"
            ;;
        esac
    done

    if [[ -z "$f" ]] ; then
        echo "File not provided"
    fi
    if [[ -z "$z" ]] ; then
        echo "Axial voxel size not provided"
    fi

    fslhd -x "$f" | sed "s/dz = .*/dz = '"$z"'/g" | fslcreatehd - "$f"
}

main "$@"
